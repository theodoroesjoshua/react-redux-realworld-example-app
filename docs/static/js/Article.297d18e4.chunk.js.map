{"version":3,"file":"static/js/Article.297d18e4.chunk.js","mappings":"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","sources":["components/Article/ArticleActions.js","components/Article/ArticleMeta.js","components/Article/index.js"],"sourcesContent":["import { Link, useParams, useNavigate } from 'react-router-dom';\r\nimport React, { memo } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { deleteArticle } from '../../reducers/common';\r\n\r\n/**\r\n * Show the actions to edit or delete an article\r\n *\r\n * @example\r\n * <ArticleActions />\r\n */\r\nfunction ArticleActions() {\r\n  const { slug } = useParams();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  /**\r\n   * @type {React.MouseEventHandler}\r\n   */\r\n  const removeArticle = () => {\r\n    dispatch(deleteArticle(slug));\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <span>\r\n      <Link to={`/editor/${slug}`} className=\"btn btn-outline-secondary btn-sm\">\r\n        <i className=\"ion-edit\"></i> Edit Article\r\n      </Link>\r\n\r\n      <button className=\"btn btn-outline-danger btn-sm\" onClick={removeArticle}>\r\n        <i className=\"ion-trash-a\"></i> Delete Article\r\n      </button>\r\n    </span>\r\n  );\r\n}\r\n\r\nexport default memo(ArticleActions);\r\n","import React, { memo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { selectUser } from '../../features/auth/authSlice';\n\nimport ArticleActions from './ArticleActions';\n\n/**\n * Show information about the current article\n *\n * @example\n * <ArticleMeta />\n */\nfunction ArticleMeta() {\n  const currentUser = useSelector(selectUser);\n  const article = useSelector((state) => state.article.article);\n  const isAuthor = currentUser?.username === article?.author.username;\n\n  if (!article) return null;\n\n  return (\n    <div className=\"article-meta\">\n      <Link to={`/${article.author.username}`}>\n        <img\n          src={\n            article.author.image ??\n            'https://static.productionready.io/images/smiley-cyrus.jpg'\n          }\n          alt={article.author.username}\n        />\n      </Link>\n\n      <div className=\"info\">\n        <Link to={`/${article.author.username}`} className=\"author\">\n          {article.author.username}\n        </Link>\n\n        <time className=\"date\" dateTime={article.createdAt}>\n          {new Date(article.createdAt).toDateString()}\n        </time>\n      </div>\n\n      {isAuthor ? <ArticleActions /> : null}\n    </div>\n  );\n}\n\nexport default memo(ArticleMeta);\n","import React, { lazy, memo, Suspense, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router';\r\nimport snarkdown from 'snarkdown';\r\nimport xss from 'xss';\r\n\r\nimport TagsList from '../../features/tags/TagsList';\r\nimport { articlePageUnloaded, getArticle } from '../../reducers/article';\r\nimport ArticleMeta from './ArticleMeta';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CommentSection = lazy(() =>\r\n  import(\r\n    /* webpackChunkName: \"CommentSection\", webpackPrefetch: true  */ '../../features/comments/CommentSection'\r\n  )\r\n);\r\n\r\n/**\r\n * Show one article with its comments\r\n *\r\n * @param {import('react-router-dom').RouteComponentProps<{ slug: string }>} props\r\n * @example\r\n * <Article />\r\n */\r\nfunction Article({ match }) {\r\n  const dispatch = useDispatch();\r\n  const article = useSelector((state) => state.article.article);\r\n  const inProgress = useSelector((state) => state.article.inProgress);\r\n  const { slug } = useParams();\r\n  const renderMarkdown = () => ({ __html: xss(snarkdown(article.body)) });\r\n\r\n  useEffect(() => {\r\n    const fetchArticle = dispatch(getArticle(slug));\r\n    return () => {\r\n      fetchArticle.abort();\r\n    };\r\n  }, [match]);\r\n\r\n  useEffect(() => () => dispatch(articlePageUnloaded()), []);\r\n\r\n  if (!article) {\r\n    return (\r\n      <div className=\"article-page\">\r\n        <div className=\"container page\">\r\n          <div className=\"row article-content\">\r\n            <div className=\"col-xs-12\">\r\n              {inProgress && <h1 role=\"alert\">Article is loading</h1>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"article-page\">\r\n      <div className=\"banner\">\r\n        <div className=\"container\">\r\n          <h1>{article.title}</h1>\r\n          <ArticleMeta />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container page\">\r\n        <div className=\"row article-content\">\r\n          <div className=\"col-xs-12\">\r\n            <article dangerouslySetInnerHTML={renderMarkdown()} />\r\n\r\n            <TagsList tags={article.tagList} />\r\n          </div>\r\n        </div>\r\n\r\n        <hr />\r\n        <div className=\"article-meta\">\r\n          <Link to={`/${article.author.username}`}>\r\n            <img\r\n              src={\r\n                article.author.image ??\r\n                'https://static.productionready.io/images/smiley-cyrus.jpg'\r\n              }\r\n              alt={article.author.username}\r\n            />\r\n          </Link>\r\n\r\n          <div className=\"info\">\r\n            <Link to={`/${article.author.username}`} className=\"author\">\r\n              {article.author.username}\r\n            </Link>\r\n\r\n            <time className=\"date\" dateTime={article.createdAt}>\r\n              {new Date(article.createdAt).toDateString()}\r\n            </time>\r\n          </div>\r\n        </div>\r\n        <Suspense fallback={<p>Loading comments</p>}>\r\n          <CommentSection />\r\n        </Suspense>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(Article);\r\n"],"names":["ArticleActions","slug","useParams","dispatch","useDispatch","navigate","useNavigate","to","className","onClick","deleteArticle","memo","ArticleMeta","currentUser","useSelector","selectUser","article","state","isAuthor","username","author","src","image","alt","dateTime","createdAt","Date","toDateString","CommentSection","lazy","Article","match","inProgress","useEffect","fetchArticle","getArticle","abort","articlePageUnloaded","title","dangerouslySetInnerHTML","__html","xss","snarkdown","body","TagsList","tags","tagList","Suspense","fallback","role"],"sourceRoot":""}